{"version":3,"file":"static/js/278.75185c85.chunk.js","mappings":"sMAkFA,UA7Ee,WAAO,IAAD,MACnB,GAAoCA,EAAAA,EAAAA,UAAS,IAA7C,eAAOC,EAAP,KAAmBC,EAAnB,KACA,GAAwBF,EAAAA,EAAAA,UAAS,IAAjC,eAAOG,EAAP,KAAaC,EAAb,KACA,GAAgCJ,EAAAA,EAAAA,WAAS,GAAzC,eAAOK,EAAP,KAAiBC,EAAjB,KACA,GAA8BN,EAAAA,EAAAA,WAAS,GAAvC,eAAOO,EAAP,KAAgBC,EAAhB,KACMC,GAAWC,EAAAA,EAAAA,MACjB,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACMC,EAAU,UAAGF,EAAaG,IAAI,YAApB,QAA4B,IAQ5CC,EAAAA,EAAAA,YAAU,WACHT,IACLC,GAAW,IACXS,EAAAA,EAAAA,IAAyBH,GAAYI,MAAK,SAAAC,GACxCf,EAAQe,EACT,IACF,GAAE,CAACL,EAAYP,IAehB,OACE,iCACE,kBAAMa,OAAO,GAAb,WACE,4BACE,kBACEC,KAAK,OACLC,KAAK,SACLC,SApBgB,SAAAC,GACxBtB,EAAcsB,EAAEC,OAAOC,OACvBpB,GAAY,GACZ,IAAMqB,EAAgC,KAAnBH,EAAEC,OAAOC,MAAe,CAAEE,EAAGJ,EAAEC,OAAOC,OAAU,CAAC,EACpEb,EAAgBc,EACjB,EAgBSD,MAAOZ,EACPe,UAAQ,OAGZ,mBAAQR,KAAK,SAASS,QAlBP,SAAAN,GACnBA,EAAEO,iBACFzB,GAAY,IAtBZW,EAAAA,EAAAA,IAAyBhB,GAAYiB,MAAK,SAAAC,GACxCf,EAAQe,EACT,GAsBF,EAcK,wBAIF,0BACE,wBAC4B,KAAzB,UAAAhB,EAAK6B,eAAL,eAAcC,SAAgB5B,GAC7B,8CADD,UAGCF,EAAK6B,eAHN,aAGC,EAAcE,KAAI,SAAAC,GAChB,OACE,yBACE,SAAC,KAAD,CACEC,GAAE,UAAKD,EAAME,IACbA,GAAIF,EAAME,GACVC,MAAO,CAAEC,KAAM9B,GAHjB,SAKG0B,EAAMK,SANFL,EAAME,GAUlB,UAMZ,C","sources":["pages/Movies/Movies.jsx"],"sourcesContent":["import React from 'react';\nimport { useState, useEffect } from 'react';\nimport { fetchMoviesBySearchQuery } from 'api/data';\nimport { Link, useLocation, useSearchParams } from 'react-router-dom';\n\nconst Movies = () => {\n  const [searchData, setSearchData] = useState('');\n  const [data, setData] = useState([]);\n  const [isSubmit, setIsSubmit] = useState(false);\n  const [isFetch, setIsFetch] = useState(true);\n  const location = useLocation();\n  const [searchParams, setSearchParams] = useSearchParams();\n  const movieQuery = searchParams.get('q') ?? '';\n\n  const updateData = () => {\n    fetchMoviesBySearchQuery(searchData).then(response => {\n      setData(response);\n    });\n  };\n\n  useEffect(() => {\n    if (!isFetch) return;\n    setIsFetch(false);\n    fetchMoviesBySearchQuery(movieQuery).then(response => {\n      setData(response);\n    });\n  }, [movieQuery, isFetch]);\n\n  const handleInputChange = e => {\n    setSearchData(e.target.value);\n    setIsSubmit(false);\n    const nextParams = e.target.value !== '' ? { q: e.target.value } : {};\n    setSearchParams(nextParams);\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    setIsSubmit(true);\n    updateData();\n  };\n\n  return (\n    <>\n      <form action=\"\">\n        <label>\n          <input\n            type=\"text\"\n            name=\"search\"\n            onChange={handleInputChange}\n            value={movieQuery}\n            required\n          />\n        </label>\n        <button type=\"submit\" onClick={handleSubmit}>\n          Search\n        </button>\n      </form>\n      <div>\n        <ul>\n          {data.results?.length === 0 && isSubmit ? (\n            <p>{`There is no movies`}</p>\n          ) : (\n            data.results?.map(movie => {\n              return (\n                <li key={movie.id}>\n                  <Link\n                    to={`${movie.id}`}\n                    id={movie.id}\n                    state={{ from: location }}\n                  >\n                    {movie.title}\n                  </Link>\n                </li>\n              );\n            })\n          )}\n        </ul>\n      </div>\n    </>\n  );\n};\n\nexport default Movies;\n"],"names":["useState","searchData","setSearchData","data","setData","isSubmit","setIsSubmit","isFetch","setIsFetch","location","useLocation","useSearchParams","searchParams","setSearchParams","movieQuery","get","useEffect","fetchMoviesBySearchQuery","then","response","action","type","name","onChange","e","target","value","nextParams","q","required","onClick","preventDefault","results","length","map","movie","to","id","state","from","title"],"sourceRoot":""}